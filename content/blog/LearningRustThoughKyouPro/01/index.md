---
title: "#1 Rustのイテレーター系メソッド雑まとめ"
postdate: "2023-10-11"
update: "2023-10-11"
seriesName: "競プロで学ぶRust"
seriesSlug: "LearningRustThoughKyouPro"
description: "競技プログラミングの問題を解くことでRustを学びます。"
tags: ["Rust", "競技プログラミング", "AtCoder"]
keywords: ["Rust", "競技プログラミング", "AtCoder"]
published: true
---

# 競プロで学ぶRust

いきなり話が逸れますが、ある言語を初めて勉強する時、これまでは大抵、入門書を一冊買って勉強していました。しかし、いまいちスムーズに学習できない、、、。写経するのも退屈だし、書けるようになっている実感が湧かない、、、。そして本を投げ出して中途半端に書ける状態で終わる、という事態に陥っていました。

そこで適当に文法を勉強した後、競プロ（特にAtCoder）の問題をひたすら解きまくるという学習方法に切り替えたところ、一気に理解度が高まるようになりました。

私の場合、Rustで言えば、

- 型についての理解が不十分なため解けない
- イレテーターの取扱い方が分からないため解けない
- イテレーターメソッドを上手く使いこなせないため解けない

などがあり、A問題やB問題すらも解けないことがよくありました。問題の解き方は分かってもどうやってコードに落とし込めばいいかが分からなかったりコンパイルが出来なかったりするのです。しかし、繰り返し問題を解いていくことで自然にシンタックスが身につくようになりました。

別に難しい問題を解く必要はありません。そもそも解けないし、本格的にアルゴリズムの勉強が必要になってしまいます。AtCoderで言えばA、B、C問題を中心に解いていけば十分だと思います。また、問題の数も相当あるので、毎日コードを書く習慣が身につきます。また、解答をGitHubにプッシュしていけば大量の草を生やせます。「プログラミングの勉強が退屈で続かない」「特に作りたいものや目標がない」という方にはお勧めです。

<aside>

タイトルは「競プロ」としていますが、AtCoderの問題を紹介することがほとんどだと思います。

</aside>

## 構成

本記事ではイテレーター系のメソッドに照準をあて説明します。一つ一つを事細かに説明するわけではありませんが、簡単な使用例を載せています。

また、別途記事を設け、そこで詳しい使い方やそのメソッドを使って解けるAtCoderの問題を紹介します。同じ問題が複数の記事で登場することがありますがご了承ください。

本記事の構成は以下の記事を多いに参考にしました。

[Rustのイテレータの網羅的かつ大雑把な紹介 - Qiita](https://qiita.com/lo48576/items/34887794c146042aebf1)

ただ本記事では、特に競プロで使用できそうな（実際に私が使用した）メソッドをターゲットに抜き出しています。

<aside>

本シリーズは思い付きで書き始めました。後から構成が大きく変わるかもしれません。

</aside>

<aside>

まだ全然できてないですが、随時更新します。

</aside>

## 各要素に対して何らかの処理を行う

`map`に代表されるメソッドたちです。メソッドを適用すると`Iterator<T>`が返ってくるので、`collect()`などを使用して`Vec`や`String`の形で好きな形に書き換えることができます。

### map


[`fn map<B, F>(self, f: F) -> Map<Self, F>`](https://doc.rust-lang.org/std/iter/trait.Iterator.html#method.map)

`map`は各要素に任意の関数を適用し、その値を集約します。

`x`には`1`、`2`、`3`が入り、2倍した値がそれぞれイテレーターに格納されます。`collect()`や`sum()`を使えば、新しいVecを作成したり合計値を得ることができます。

```rust
fn main() {
    let vec = vec![1, 2, 3];

    let new_vec: Vec<usize> =
        vec.iter()
            .map(|x| { x * 2 })
            .collect();

    println!("{:?}", new_vec);
    //=> [2, 4, 6]

    let total: usize =
        vec.iter()
            .map(|x| { x * 2 })
            .sum();

    println!("{:?}", total);
    //=> 12
}
```

<!--

### filter_map


## イテレーターから何か一つ取り出す

### max

### min

https://atcoder.jp/contests/abc005/tasks/abc005_2

#### AtCoderの問題へのリンク

- [ABC002 A - 正直者](https://atcoder.jp/contests/abc002/tasks/abc002_1)

## イテレーター自体の情報を得る

例えば要素数はいくつか、重複している要素はあるかなど。

### count

### counts

### all_equal

### all_unique

## イテレーターを並び変える

### sort

https://atcoder.jp/contests/abc009/tasks/abc009_2

### dedup

https://atcoder.jp/contests/abc009/tasks/abc009_2

-->

## 参考

https://zenn.dev/megeton/articles/fb6266bcb6aa1b