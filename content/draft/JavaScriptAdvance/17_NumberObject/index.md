---
title: "ラッパーオブジェクト"
postdate: "2021-04-28"
updatedate: "2021-04-28"
categoryName: "JavaScript中級者を目指す"
categorySlug: "JavaScriptAdvance"
description: "JavaScriptの持つデータ型について解説します。長くなってしまうので前後2つの記事に分けて解説します。"
tags: ["JavaScript"]
---

さて、これまで様々なデータ型を紹介してきましたが、データ型は大きく2種類に分類することができます。わかりますね？プリミティブ型とオブジェクトです。

プリミティブ(primitive)は「原始的」「根源的」といった意味があり、「これ以上分解できない」といったニュアンスがあります。

```javascript
// これ以上分解できない
1
"string"
true
Symbol
```

これはオブジェクトと対比するとより分かりやすいです。オブジェクトは沢山の**プロパティ**を持つことができます。オブジェクトはいくつかのプロパティから構成され、いくつかのプロパティに分解できると言えます。

```javascript
const obj = {
	id: 1,
	name: "kento",
	living: true,
	greeting() {
		console.log("Hello!");
	}
};
```

しかし、文字列リテラルは`length`をつけることでその文字数をカウントできます。

```javascript
console.log("string".length);
//=> 6
```

これはまるで文字列リテラルが`length`プロパティを持っているようです。**プリミティブ**なのにプロパティを持っているのはおかしく感じますね。

実はこれは**ラッパーオブジェクト**の仕業です。今回はこのラッパーオブジェクトについて勉強します。

## オブジェクトのように振る舞まわせる

ラッパーオブジェクトは**Wrapper Object**のことです。「wrap」には「包む」という意味があります。

「ラッパーオブジェクトとは何か」という疑問の答えは、「プリミティブ値を包み込み、**オブジェクトのように**動作させるオブジェクト」であると言えます。

先ほどの文字列リテラルから`length`プロパティを呼んだ例を考えてみましょう。

文字列型がプリミティブであることは間違いありません。文字列型には**Stringオブジェクト**というラッパーオブジェクトが存在しています。文字列リテラルが`length`などのプロパティを呼んだ時、プリミティブ型を補完するラッパーオブジェクトが生成されます。その結果、`String`オブジェクトが持つ`length`プロパティを利用できるというわけです。最終的には、Stringオブジェクトはお役御免となり破棄されます。

このように、必要に応じてプリミティブを包み込み、オブジェクトのように振る舞わせることからラッパーオブジェクトという名前が付きました。

ラッパーオブジェクトが存在するプリミティブ型は文字列型だけではありません。数値型には`Number`オブジェクト、真偽値型には`Boolean`オブジェクト、シンボル型には`Symbol`オブジェクトが用意されています。




```javascript
const str = "str";
console.log(typeof str)
//=> string

const str2 = new String("str2");
console.log(typeof str2)
//=> object
```

メソッドが呼び出された時、**一時的にラッパーオブジェクトに変換されます**。

```javascript
console.log('string'.toUpperCase());
//=> STRING

// 以下のようにラッパーオブジェクトに変換される
console.log((new String('string')).toUpperCase());
//=> STRING
```

しかし、自動的に変換してくれる以上、リテラル表現を使用しておけば困ることはありません。
