---
title: "#2 AWS SAAメモ インフラ・VPC"
postdate: "2021-10-08"
update: "2021-10-08"
seriesName: "AWS SAA勉強メモ"
seriesSlug: "AWS"
description: ""
tags: ["AWS", "AWS SAA", "VPC"]
draft: true
---

# EC2

|a|a|
|---|---|
|オンデマンド|秒単位で料金発生|
|りーざぶド|1年か3年を指定して予約|
|スケジュールドリザーブド|1年間、指定した期間だけ繰り返しキャパシティー予約|
|スポット|未使用のインスタンスを利用できる|

## インスタンスタイプ

|ファミリー|説明|
|---|---|
|t|汎用|
|A|〃|
|M|〃|
|C|コンピューティング(機械学習など)|
|X、R|メモリー最適化|
|H、D、I|ストレージ最適化|

## ユーザーデータ

スクリプトを実行してLinuxの初期設定を自動化できる。ホスト名の変更、ロケール設定、yumアップデートなど。

![](./images/userdata.png)

## 起動テンプレート

EC2起動のテンプレート化。

AMI、インスタンスタイプ、キーペア、SG、ストレージ、タグ、ユーザーデータなどをテンプレートとして保存。

## スポットリクエスト

### スポットフリート

複数のスポットインスタンスをグループ化して一括管理。EC2フリートというのもある。

## リザーブド

AZ、インスタンスサイズ、ネットワークタイプの変更が可能。

### スタンダード

インスタンスファミリー、OS、テナンシー、支払いオプションんの途中変更が不可。その代わり安い。

1年 - 40%、3年だと60%割引。

### コンパーティブル

途中変更が可能。

1年だと31%、3年だと54%。

## ストレージ

### インスタンスストア

サーバーにアタッチされているストレージ。EC2の一時的なデータが保存。EC2起動終了と同時に削除される。

直接アタッチされているのでIOは早い。

### EBS

ネットワーク接続されたブロックレベルストレージ。

設定すれば、EC2を終了してもデータの保存が可能。また、スナップショットをS3に保存可能。

EBS料金が発生。